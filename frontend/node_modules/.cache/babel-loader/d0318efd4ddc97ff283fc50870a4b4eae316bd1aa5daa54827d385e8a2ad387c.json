{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Toto-\\\\OneDrive\\\\Desktop\\\\cinema-webapp\\\\frontend\\\\src\\\\pages\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../styles/calendar.css';\n\n/**\n * Calendar page: filter by predefined week groups or by a specific date.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar() {\n  _s();\n  const [releases, setReleases] = useState({});\n  const [active, setActive] = useState('this');\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [dateFilteredFilms, setDateFilteredFilms] = useState([]);\n  useEffect(() => {\n    // Load release groups from backend\n    fetch('http://localhost:8080/api/releases').then(r => r.json()).then(setReleases);\n  }, []);\n  const groups = {\n    previous: 'Scorsa settimana',\n    this: 'Questa settimana',\n    week1: 'Tra 1 settimana',\n    week2: 'Tra 2 settimane',\n    week3: 'Tra 3 settimane'\n  };\n\n  /**\n   * When user selects a date:\n   * - highlight date input (deactivate weekly tabs)\n   * - show only films matching exact releaseDate\n   */\n  function handleDateChange(e) {\n    const date = e.target.value;\n    setSelectedDate(date);\n    if (date) {\n      setActive(null); // deselect predefined groups\n\n      // Flatten + remove duplicates by id\n      const allFilms = Array.from(new Map(Object.values(releases).flat().map(f => [f.id, f])).values());\n\n      // Filter by exact date\n      const filtered = allFilms.filter(f => f.releaseDate === date);\n      setDateFilteredFilms(filtered);\n    } else {\n      setDateFilteredFilms([]);\n      setActive('this'); // default if date cleared\n    }\n  }\n\n  // Determine which list of films to show\n  const filmsToShow = selectedDate ? dateFilteredFilms : releases[active] || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Calendario Uscite\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-controls\",\n      children: [Object.keys(groups).map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'choice ' + (active === k ? 'active' : ''),\n        onClick: () => {\n          setActive(k);\n          setSelectedDate(null);\n        },\n        children: groups[k]\n      }, k, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate || '',\n        onChange: handleDateChange,\n        className: selectedDate ? 'choice active' : 'choice',\n        style: {\n          marginLeft: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-grid\",\n      children: filmsToShow.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#cbd9ea',\n          marginTop: 20\n        },\n        children: \"Nessun film disponibile per la data selezionata.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this) : filmsToShow.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumb\",\n          src: 'http://localhost:8080/api/images/' + f.thumbnail,\n          alt: f.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 6\n          },\n          children: [f.title, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#cbd9ea'\n            },\n            children: f.releaseDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)]\n      }, f.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"uCLTHMuMiuTQl62U9pGUYQNf7WM=\");\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Calendar","_s","releases","setReleases","active","setActive","selectedDate","setSelectedDate","dateFilteredFilms","setDateFilteredFilms","fetch","then","r","json","groups","previous","this","week1","week2","week3","handleDateChange","e","date","target","value","allFilms","Array","from","Map","Object","values","flat","map","f","id","filtered","filter","releaseDate","filmsToShow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","keys","k","onClick","type","onChange","style","marginLeft","length","color","marginTop","textAlign","src","thumbnail","alt","title","_c","$RefreshReg$"],"sources":["C:/Users/Toto-/OneDrive/Desktop/cinema-webapp/frontend/src/pages/Calendar.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport '../styles/calendar.css';\n\n/**\n * Calendar page: filter by predefined week groups or by a specific date.\n */\nexport default function Calendar(){\n  const [releases, setReleases] = useState({});\n  const [active, setActive] = useState('this');\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [dateFilteredFilms, setDateFilteredFilms] = useState([]);\n\n  useEffect(()=>{\n    // Load release groups from backend\n    fetch('http://localhost:8080/api/releases')\n      .then(r=>r.json())\n      .then(setReleases);\n  },[]);\n\n  const groups = {\n    previous:'Scorsa settimana',\n    this:'Questa settimana',\n    week1:'Tra 1 settimana',\n    week2:'Tra 2 settimane',\n    week3:'Tra 3 settimane'\n  };\n\n  /**\n   * When user selects a date:\n   * - highlight date input (deactivate weekly tabs)\n   * - show only films matching exact releaseDate\n   */\n  function handleDateChange(e){\n    const date = e.target.value;\n    setSelectedDate(date);\n\n    if(date){\n      setActive(null); // deselect predefined groups\n\n      // Flatten + remove duplicates by id\n      const allFilms = Array.from(\n  new Map(\n    Object.values(releases)\n      .flat()\n      .map(f => [f.id, f])\n  ).values()\n);\n\n      // Filter by exact date\n      const filtered = allFilms.filter(f => f.releaseDate === date);\n\n      setDateFilteredFilms(filtered);\n    } else {\n      setDateFilteredFilms([]);\n      setActive('this'); // default if date cleared\n    }\n  }\n\n  // Determine which list of films to show\n  const filmsToShow = selectedDate\n    ? dateFilteredFilms\n    : (releases[active] || []);\n\n  return (\n    <div className='container'>\n      <h2 className='section-title'>Calendario Uscite</h2>\n\n      <div className='calendar-controls'>\n        {/* Tabs for fixed periods */}\n        {Object.keys(groups).map(k=>(\n          <div\n            key={k}\n            className={'choice '+(active===k?'active':'')}\n            onClick={()=>{\n              setActive(k);\n              setSelectedDate(null);\n            }}\n          >\n            {groups[k]}\n          </div>\n        ))}\n\n        {/* Date picker */}\n        <input\n          type='date'\n          value={selectedDate || ''}\n          onChange={handleDateChange}\n          className={selectedDate ? 'choice active' : 'choice'}\n          style={{marginLeft:12}}\n        />\n      </div>\n\n      <div className='card-grid'>\n        {filmsToShow.length === 0 ? (\n          <div style={{color:'#cbd9ea', marginTop:20}}>\n            Nessun film disponibile per la data selezionata.\n          </div>\n        ) : (\n          filmsToShow.map(f=>(\n            <div key={f.id} style={{textAlign:'center'}}>\n              <img className='thumb'\n                src={'http://localhost:8080/api/images/'+f.thumbnail}\n                alt={f.title}\n              />\n              <div style={{marginTop:6}}>\n                {f.title}\n                <div style={{color:'#cbd9ea'}}>{f.releaseDate}</div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}