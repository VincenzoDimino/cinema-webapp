{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Toto-\\\\OneDrive\\\\Desktop\\\\cinema-webapp\\\\frontend\\\\src\\\\pages\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../styles/calendar.css';\n\n/**\n * Calendar page: filter by predefined week groups or by a specific date.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar() {\n  _s();\n  const [releases, setReleases] = useState({});\n  const [active, setActive] = useState('this');\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [dateFilteredFilms, setDateFilteredFilms] = useState([]);\n\n  // NEW → Mostra/nasconde il calendario\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  useEffect(() => {\n    fetch('http://localhost:8080/api/releases').then(r => r.json()).then(setReleases);\n  }, []);\n  const groups = {\n    previous: 'Scorsa settimana',\n    this: 'Questa settimana',\n    week1: 'Tra 1 settimana',\n    week2: 'Tra 2 settimane',\n    week3: 'Tra 3 settimane'\n  };\n\n  /** Handle date filter */\n  function handleDateChange(e) {\n    const date = e.target.value;\n    setSelectedDate(date);\n    if (date) {\n      setActive(null);\n\n      // Flatten + remove duplicates by id\n      const allFilms = Array.from(new Map(Object.values(releases).flat().map(f => [f.id, f])).values());\n      const filtered = allFilms.filter(f => f.releaseDate === date);\n      setDateFilteredFilms(filtered);\n    } else {\n      setDateFilteredFilms([]);\n      setActive('this');\n    }\n  }\n  const filmsToShow = selectedDate ? dateFilteredFilms : releases[active] || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Calendario Uscite\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-controls\",\n      children: [Object.keys(groups).map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'choice ' + (active === k ? 'active' : ''),\n        onClick: () => {\n          setActive(k);\n          setSelectedDate(null);\n          setShowDatePicker(false); // chiudi date picker se aperto\n        },\n        children: groups[k]\n      }, k, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'choice period-button ' + (showDatePicker ? 'active' : ''),\n        style: {\n          marginLeft: 12\n        },\n        onClick: () => setShowDatePicker(!showDatePicker),\n        children: \"Scegli Periodo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), showDatePicker && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate || '',\n        onChange: handleDateChange,\n        className: \"choice date-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-grid\",\n      children: filmsToShow.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#cbd9ea',\n          marginTop: 20\n        },\n        children: \"Nessun film disponibile per la data selezionata.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this) : filmsToShow.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumb\",\n          src: 'http://localhost:8080/api/images/' + f.thumbnail,\n          alt: f.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 6\n          },\n          children: [f.title, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#cbd9ea'\n            },\n            children: f.releaseDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this)]\n      }, f.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"FKdZjSaKCByrk3vMcwZboEMOCZo=\");\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Calendar","_s","releases","setReleases","active","setActive","selectedDate","setSelectedDate","dateFilteredFilms","setDateFilteredFilms","showDatePicker","setShowDatePicker","fetch","then","r","json","groups","previous","this","week1","week2","week3","handleDateChange","e","date","target","value","allFilms","Array","from","Map","Object","values","flat","map","f","id","filtered","filter","releaseDate","filmsToShow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","keys","k","onClick","style","marginLeft","type","onChange","length","color","marginTop","textAlign","src","thumbnail","alt","title","_c","$RefreshReg$"],"sources":["C:/Users/Toto-/OneDrive/Desktop/cinema-webapp/frontend/src/pages/Calendar.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport '../styles/calendar.css';\n\n/**\n * Calendar page: filter by predefined week groups or by a specific date.\n */\nexport default function Calendar(){\n  const [releases, setReleases] = useState({});\n  const [active, setActive] = useState('this');\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [dateFilteredFilms, setDateFilteredFilms] = useState([]);\n\n  // NEW → Mostra/nasconde il calendario\n  const [showDatePicker, setShowDatePicker] = useState(false);\n\n  useEffect(()=>{\n    fetch('http://localhost:8080/api/releases')\n      .then(r=>r.json())\n      .then(setReleases);\n  },[]);\n\n  const groups = {\n    previous:'Scorsa settimana',\n    this:'Questa settimana',\n    week1:'Tra 1 settimana',\n    week2:'Tra 2 settimane',\n    week3:'Tra 3 settimane'\n  };\n\n  /** Handle date filter */\n  function handleDateChange(e){\n    const date = e.target.value;\n    setSelectedDate(date);\n\n    if(date){\n      setActive(null);\n\n      // Flatten + remove duplicates by id\n      const allFilms = Array.from(\n        new Map(\n          Object.values(releases)\n            .flat()\n            .map(f => [f.id, f])\n        ).values()\n      );\n\n      const filtered = allFilms.filter(f => f.releaseDate === date);\n      setDateFilteredFilms(filtered);\n    } else {\n      setDateFilteredFilms([]);\n      setActive('this');\n    }\n  }\n\n  const filmsToShow = selectedDate\n    ? dateFilteredFilms\n    : (releases[active] || []);\n\n  return (\n    <div className='container'>\n      <h2 className='section-title'>Calendario Uscite</h2>\n\n      <div className='calendar-controls'>\n        {Object.keys(groups).map(k=>(\n          <div\n            key={k}\n            className={'choice ' + (active===k ? 'active' : '')}\n            onClick={()=>{\n              setActive(k);\n              setSelectedDate(null);\n              setShowDatePicker(false); // chiudi date picker se aperto\n            }}\n          >\n            {groups[k]}\n          </div>\n        ))}\n\n        {/* NEW — Bottone Scegli Periodo */}\n        <button\n          className={'choice period-button ' + (showDatePicker ? 'active' : '')}\n          style={{marginLeft: 12}}\n          onClick={()=> setShowDatePicker(!showDatePicker)}\n        >\n          Scegli Periodo\n        </button>\n\n        {/* NEW — Date Picker visibile solo quando showDatePicker = true */}\n        {showDatePicker && (\n          <input\n            type='date'\n            value={selectedDate || ''}\n            onChange={handleDateChange}\n            className='choice date-input'\n          />\n        )}\n      </div>\n\n      <div className='card-grid'>\n        {filmsToShow.length === 0 ? (\n          <div style={{color:'#cbd9ea', marginTop:20}}>\n            Nessun film disponibile per la data selezionata.\n          </div>\n        ) : (\n          filmsToShow.map(f=>(\n            <div key={f.id} style={{textAlign:'center'}}>\n              <img className='thumb'\n                src={'http://localhost:8080/api/images/'+f.thumbnail}\n                alt={f.title}\n              />\n              <div style={{marginTop:6}}>\n                {f.title}\n                <div style={{color:'#cbd9ea'}}>{f.releaseDate}</div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}